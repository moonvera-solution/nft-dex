import { ethers } from "hardhat";
import * as dotenv from "dotenv";
dotenv.config();
import FactoryContract from "../out/MvxFactory.sol/MvxFactory.json";
const { utils } = require("ethers");
import { MvxFactory } from "../typechain-types";

const FACTORY_GOERLY: any = "0x4c1C3EC71fb11684ceFB350252122aA4e85C9068";
const FACTORY_MAINNET: any = "0x34C08426FFF16BbD9E8E8811daF42De66C482955";

const COLLECTION_GOERLY: any = "0x9aa968D0513F74456632Ef08A07c2c646869B149";
const OWNER = "0x37aa961D37F3513ae760ea7B704dAe3415f67B2F";

async function main() {
  const signer = new ethers.Wallet(`${process.env.GREN_GOYLES_MEMBER_PK}`);
  const Factory: MvxFactory = await ethers.getContractAt("MvxFactory", FACTORY_MAINNET);

  function processAddresses(addresses: any) {
    return addresses.map((address: any) => {
      // Trim whitespaces
      address = address.trim();

      // Check if the address is valid
      if (ethers.utils.isAddress(address)) {
        // Checksum the address
        const checksummedAddress = ethers.utils.getAddress(address);

        // Return the checksummed address surrounded by double quotes
        return checksummedAddress;
      }
    });
  }

  // console.log("Factory Set collection =>", await Factory._collectionImpl());

  const encoder = ethers.utils.defaultAbiCoder;

  const maxSupply = 6888;
  const royaltyFee = 1000;
  const tokenSymbol = "GGV2";
  const name = "GremGoyles V2"
  const uri = "ipfs://QmVjYK4hPdZ7Jn5GBuaMUsUAaGE6RpzHxaZVE29toYUrRZ/";
  const og = ['0x5A2D11396e115aEF85Fd6f467A439fFB181478ec',
    '0x328A3f8bAE2fB255a86BcDEFE9710D045F1A7603',
    '0x6df1Fd18Aaa9F1DD745e6E3Afc3ff8522a556889',
    '0x269b4c5537445ad08EBF6eA6D848a4866856778b',
    '0x8919Bc879C595c4F5a699A870d5211a5436cDF7E',
    '0x6Aa9D725a023651E415CD78E9f229bD39d4a01BA',
    '0xc7468B7D4086D15bf13D025A663E46E38d945446',
    '0x40f0D8104ae5C9b9D7185Dbf1d65c2d40CA1565f',
    '0x897f1569a22Ab89ED2ED363acAF9b8613EDd27a7',
    '0x173f6e69efA3Ed13bC5b8fFa48b80cfaD5b55260',
    '0x172e1D59AEBe8fc5d0BAc93B9E9a1ABddCc767ea',
    '0x63c65c86cB9D25a252635c73f90516D21E344ED4',
    '0x63e03E3e25d483D7e5c0B300C8b34b9A5f7Ead85',
    '0x1AED3799De8416Fc7B53E75c132B4f67e5Da20B3',
    '0xc56c40BEB87949002F00b60E4Ef575DB1E5C9F3e',
    '0x6667cbFaF2960D62A8Af2b4896674a008e351d9F',
    '0x2BeeFa8AdA17358D63eAaf88Aa6C2f7498130EE6',
    '0x7dB4ca2a8096C3711F1B3B00b440d021c50821D7',
    '0x77cb76F93Fb2a767831cc0ae2dF5023551A93270',
    '0xB18Df5Be6A4F2B14099455B430a7846c80529951',
    '0xfbd92d3Aaf8824201A32Aed790A12338F78C74a1',
    '0x4cE4E56628a1ec53Ba36e984946b124176cF980d',
    '0x126B53AaB4F50c357B543939DBb46f14C6c25a3c',
    '0x925B51750770bD15d3477C95148D79ACD197AC8A',
    '0x044Ffe4018944C0e309Ca0bd3e386F4d0190D379',
    '0x26f40cA246d1fCc21A2f1d2A16880367C9658d90',
    '0xB18Df5Be6A4F2B14099455B430a7846c80529951',
    '0x897f1569a22Ab89ED2ED363acAF9b8613EDd27a7',
    '0x328A3f8bAE2fB255a86BcDEFE9710D045F1A7603',
    '0x269b4c5537445ad08EBF6eA6D848a4866856778b',
    '0x042985c1eB919748508b4AA028688DFE43b083aA',
    '0x6df1Fd18Aaa9F1DD745e6E3Afc3ff8522a556889',
    '0x1cBA385B069B39eDE98c555881ad76982B97B19c',
    '0x24720B809D7168854080D638Dc125Ba81570C585',
    '0x99D4df3258D0E35D53B1aF2A26d3570186B91161',
    '0x63e03E3e25d483D7e5c0B300C8b34b9A5f7Ead85',
    '0x32E7709eC2b3346cdf13E07060D4e2DFfd898685',
    '0xEEfca716307f3472D3d3eAeb1bDeCe025188e593',
    '0xCdD25E0b5A045fA6F6f42Fc67Ed7E633283210A6',
    '0x1AfBbee59Df2389EE331EFA698Fa79F2968d4B5f',
    '0xA6a1283e30B1Cb51Bb28BE2C9435D7c509eF35AF',
    '0x49c539B40731681828fe69F6D6ac6485b05a02Bb',
    '0xc56c40BEB87949002F00b60E4Ef575DB1E5C9F3e',
    '0x8766B481ec28076b9C2590b58C9Cc9b733734Deb',
    '0x6667cbFaF2960D62A8Af2b4896674a008e351d9F',
    '0x2BeeFa8AdA17358D63eAaf88Aa6C2f7498130EE6',
    '0x6Aa9D725a023651E415CD78E9f229bD39d4a01BA',
    '0x84130D507C245484ff63CfA780A39aE6ADe441bF',
    '0xfE627D675Cc3DbaBA38CaBb6fE9fB2A34b8206a9',
    '0x31e0D49c3dc594c24Ffc20B246bd2A4346c3eCD7',
    '0x3C593BEF8840Ef4a10E334415562Eb8a5894816E',
    '0x328A3f8bAE2fB255a86BcDEFE9710D045F1A7603',
    '0x63e03E3e25d483D7e5c0B300C8b34b9A5f7Ead85',
    '0x6667cbFaF2960D62A8Af2b4896674a008e351d9F',
    '0x269b4c5537445ad08EBF6eA6D848a4866856778b',
    '0xB18Df5Be6A4F2B14099455B430a7846c80529951',
    '0x6df1Fd18Aaa9F1DD745e6E3Afc3ff8522a556889',
    '0x1AfBbee59Df2389EE331EFA698Fa79F2968d4B5f',
    '0x38201e227eC0624906f214F4Aa4Fa6F4Cf0D1d76',
    '0x1cBA385B069B39eDE98c555881ad76982B97B19c',
    '0xf3Afb94f15a7F2DD4f7BE08b6d8c452811792Fd5',
    '0xfE627D675Cc3DbaBA38CaBb6fE9fB2A34b8206a9',
    '0xc2096B0F5c19803A385DDd47B31dd08343f5422E',
    '0xE329E8e95B3Ed74cA80C0660644eF095F796B63a',
    '0x399323bf4aeDB46Dc5Ea80d44e4dD9Fd5c8DCdAc',
    '0xA4cf064D02E35Aed6340df50D0c9e121B16B1Bb6',
    '0x4B3800dC1E8a6ebd02CA5A9C4abc81cBb82E63c3',
    '0x42FE6ac6b89833044d867568dF66FE55DA5d8079',
    '0x52419d6bDc34A8447d81436a87671D496D37b746',
    '0x37667d93e047e1231e2CE3BC7a762dD36bCf6aFE',
    '0x925B51750770bD15d3477C95148D79ACD197AC8A',
    '0xc56c40BEB87949002F00b60E4Ef575DB1E5C9F3e',
    '0x897f1569a22Ab89ED2ED363acAF9b8613EDd27a7',
    '0xF7bbc8451720CDD5cFfF31CAd3b826d53E78d8c0',
    '0x2BeeFa8AdA17358D63eAaf88Aa6C2f7498130EE6',
    '0x6Aa9D725a023651E415CD78E9f229bD39d4a01BA',
    '0xFfa61B72f6A61EC5fF6957bc352E4A44414EAA66',
    '0x84130D507C245484ff63CfA780A39aE6ADe441bF',
    '0x7bD42e6E503E296453555D5a3e59d67B4675daF6',
    '0xB538A75298F81c5aec361Dc827902e00fA17B4C2',
    '0xD8d788f4BaF491DB505A496f9BD5C1D566d1c30f',
    '0x0C8Df06bC11B39A3bEE2CD0bb816A592e65E52C8',
    '0x0cEe40f8D595e91c3b79CbaEe7403Ec361777462',
    '0xC12659432316dD89731220E4A309492F6a3f2629',
    '0x3a59842fBf20b54D84c3505fc206f5cF7b56f4d9',
    '0x580ed5585061923E5F4E3edc8038362485B452cd',
    '0x328A3f8bAE2fB255a86BcDEFE9710D045F1A7603',
    '0xf3876B9E471B8EaA4e0B482e80Eb9bD819652284',
    '0x5D30dc36255aE4aD6022c7b8bA640e709993c4D4',
    '0x6df1Fd18Aaa9F1DD745e6E3Afc3ff8522a556889',
    '0xB6Ab6ED99c21A7317c607E9243510D89b6F4b91B',
    '0xc7468B7D4086D15bf13D025A663E46E38d945446',
    '0xEB9b9acDF515D141e818aB8234329e92775c8603',
    '0x35e8489eAfa4dc7f300E768deDd6f5227611e99f',
    '0x481f90fdaCE22dc9BBC454e285CE5e0957867DF6',
    '0x044Ffe4018944C0e309Ca0bd3e386F4d0190D379',
    '0xaEDF74546Caa4e1e13fAa01b153c1e8099d4623b',
    '0xCAb6193901887968cd656BBB15ffDE19b0eb1c37',
    '0xE329E8e95B3Ed74cA80C0660644eF095F796B63a',
    '0xa92838ed7C8e6A6CEe783f8583Ae4A7F0352cE3d',
    '0x15c64c9000ce544525A93Ccdb87F161C0368f80c',
    '0xf027828a6D9A0618A2f419AB71Db39cf2295f027',
    '0xeB14ec41019b42E2c15a7ac86FD026f9bCd89883',
    '0x44ABaa7FeD7684F5872939e2741EAbb727112010',
    '0x042985c1eB919748508b4AA028688DFE43b083aA',
    '0xEFd6E29eD1b602B4d0410bF008Bd667562DF1013',
    '0x974CCBEA8d50eCE1066b4533D6bCBC465F754161',
    '0xA31eE3270D637681488A33d9B5F4D2cD6BB9238B',
    '0xe959112d65f49D8FF7086EED0451e5B23E5DE807',
    '0xAe2fDf2eaF44bac2188dA7dA061968AAe4Ca41B5',
    '0x0C70fd88783036774598ecc3C53Acd5CDCE65a4e',
    '0xb22Ad0d340Dc2A1137fB07a1a953e810CeBb1417',
    '0x7C44633446085F35fbEAdd503E0B8d619C74D907',
    '0x073a1e05E32eDA11437EadC5E0f908a2Debe0a60',
    '0x65f5Ab40a657ED48423631636040Bc3bF97bc8ef',
    '0x80E551Ec6206F619F6cB4ee807184eD628f851a0',
    '0x76f1441F942d50CF19fB43AbB78E3977CdC06Ee3',
    '0xd2CB8abDCCb7ec6B0e605D372D94904051eF9F5B',
    '0xcd1fAA80b3292E16347F31590018446552C6708f',
    '0x5e65e345A145d2eCF31b0222aF5F13dB250cb254',
    '0xCF2cD1F063405A0b10561a615D4A349d08417a0f',
    '0x56CB938e4697243E59f3676b47fE48A1faA1f18a',
    '0xEEfca716307f3472D3d3eAeb1bDeCe025188e593',
    '0x6639F00249Db40c24e61bb5e4B980380603e7944',
    '0x45489bE197f0A64d07f68a7dc44b60038c3429Bd',
    '0xD3ae4f352505220142951C2bbcB005761432ADa2',
    '0xe1C9881B973b0D973b2f714B89055e270Fbf879e',
    '0x356E8dca95598C7A00cC3f198Af08762Ed57d050',
    '0x967b9E8bb5F0BC2245F2A90D72Cfa1f853A56848',
    '0x5013b2f1c3875f25dc298417eea1802010FDc9E5',
    '0xDdB0853D197B63ec935909a8C4CAa817512136Bd',
    '0x34B47F05fC99354DB03626EAC917348e385a64B8',
    '0xEEAE3942B76F3720a05c92A8280716f7Dd43b059',
    '0x9c352C3EaA9596e0055B2b0a625eB45b61273d04',
    '0x1A469Cd50d923a59cEb654D55FA300Cd4a84FB08',
    '0x75932A6DA9edd0726c1FFFBC7172B08fdE9Fc236',
    '0x3dd721fE6D0C229F611a0F484Eb768673d20C80c',
    '0x5eCAC4feFf27d45cf1755326fe4E4600cb75e655',
    '0x8A0e8A58e89C11f4F1a66a83a4C5ae5D35570585',
    '0x6d65c43D1F2A10185D1049DCCbDcEdB0572E9880',
    '0x4fD0d9898cf77108452244e45F35737cFBBC19DF',
    '0x2a7dA3360587CAF68434EB8E7103D10dbDF62233',
    '0x7b2372943568f19c6781ac4eb4a2Fb98206D42eD',
    '0xDf9601Afc81799916A571a20F7050199CB55bd81',
    '0xCA7a2FdC834B911b77BfBEcc96C50B7f181d342C',
    '0x123fFea5A1dbF4e4289173a2E455Db6180C235eb',
    '0x72E6930A54032cb80c3c3EF00bF1Fd8A73df1962',
    '0xd5190A43A96535f6fe19DA6dce3A05983f56634D',
    '0xfD6300Ac8F8D128D4ad4536d66b66a13CB7dA774',
    '0x1AED3799De8416Fc7B53E75c132B4f67e5Da20B3',
    '0xCdD25E0b5A045fA6F6f42Fc67Ed7E633283210A6',
    '0x328A3f8bAE2fB255a86BcDEFE9710D045F1A7603',
    '0x7dB4ca2a8096C3711F1B3B00b440d021c50821D7',
    '0x77cb76F93Fb2a767831cc0ae2dF5023551A93270',
    '0xc56c40BEB87949002F00b60E4Ef575DB1E5C9F3e',
    '0x6Aa9D725a023651E415CD78E9f229bD39d4a01BA',
    '0x7bD42e6E503E296453555D5a3e59d67B4675daF6',
    '0xB538A75298F81c5aec361Dc827902e00fA17B4C2',
    '0xD8d788f4BaF491DB505A496f9BD5C1D566d1c30f',
    '0x0C8Df06bC11B39A3bEE2CD0bb816A592e65E52C8',
    '0x0cEe40f8D595e91c3b79CbaEe7403Ec361777462',
    '0xC12659432316dD89731220E4A309492F6a3f2629',
    '0x3a59842fBf20b54D84c3505fc206f5cF7b56f4d9',
    '0x580ed5585061923E5F4E3edc8038362485B452cd',
    '0x328A3f8bAE2fB255a86BcDEFE9710D045F1A7603',
    '0xf3876B9E471B8EaA4e0B482e80Eb9bD819652284',
    '0x5D30dc36255aE4aD6022c7b8bA640e709993c4D4',
    '0x6df1Fd18Aaa9F1DD745e6E3Afc3ff8522a556889',
    '0xB6Ab6ED99c21A7317c607E9243510D89b6F4b91B',
    '0xc7468B7D4086D15bf13D025A663E46E38d945446',
    '0xA31eE3270D637681488A33d9B5F4D2cD6BB9238B',
    '0xe959112d65f49D8FF7086EED0451e5B23E5DE807',
    '0xAe2fDf2eaF44bac2188dA7dA061968AAe4Ca41B5',
    '0x0C70fd88783036774598ecc3C53Acd5CDCE65a4e',
    '0xb22Ad0d340Dc2A1137fB07a1a953e810CeBb1417',
    '0x7C44633446085F35fbEAdd503E0B8d619C74D907',
    '0x073a1e05E32eDA11437EadC5E0f908a2Debe0a60',
    '0x65f5Ab40a657ED48423631636040Bc3bF97bc8ef',
    '0x80E551Ec6206F619F6cB4ee807184eD628f851a0',
    '0x76f1441F942d50CF19fB43AbB78E3977CdC06Ee3',
    '0xd2CB8abDCCb7ec6B0e605D372D94904051eF9F5B',
    '0xcd1fAA80b3292E16347F31590018446552C6708f',
    '0x5e65e345A145d2eCF31b0222aF5F13dB250cb254',
    '0xCF2cD1F063405A0b10561a615D4A349d08417a0f',
    '0x56CB938e4697243E59f3676b47fE48A1faA1f18a',
    '0xEEfca716307f3472D3d3eAeb1bDeCe025188e593',
    '0x6639F00249Db40c24e61bb5e4B980380603e7944',
    '0x45489Bea8d50ece1066B4533d6BcbC465F754161',
    '0xD3ae4f352505220142951C2bbcB005761432ADa2',
    '0xe1C9881B973b0D973b2f714B89055e270Fbf879e',
    '0x356E8dca95598C7A00cC3f198Af08762Ed57d050',
    '0x967b9E8bb5F0BC2245F2A90D72Cfa1f853A56848'
  ];
  const wl = [
    '0x826a9158eCEbd405479f212A4836eB5E17880253',
    '0x5A79B72e572427c86a28965206649cE9a12dfdfa',
    '0x9228D10ddb805E338Fd2E9670d43996FEf89Ef6D',
    '0x786235E5d2b1F2a8dd31D791d34726933FbA5004',
    '0x1716Dc946d9264126412feDE8264E50E9d21c37a',
    '0xCaF7DEF17e72fF1C9A298fB693899A5Ab3874117',
    '0x80804B3f3a947053D0e930A231c732318c073aCF',
    '0xa9b4bf6A5dc818fe20124012569BcfCcEBb40D77',
    '0x48b81e5bD2a1312B6cfB353Ec9256d891248BAd0',
    '0x924d924F243D9d0B30a93FFBAA45aEE119223BD8',
    '0x45591CBb0dddd200D544F3182863a377e33071fd',
    '0x8B59E39B4CdC614F14be02dBaA681F9630b243E5',
    '0xd5Fa4D213df455E71cFE6df3bce1317CffbBdC62',
    '0x97fD018B633FcB4d0C2059101ebBf427c1B8Fe67',
    '0x6251fE9fA817F496d731331307182f895f817fAb',
    '0xcdDB2b55aD5664c2f0d5b0a0E5cda45d426577b8',
    '0x4B3800dC1E8a6ebd02CA5A9C4abc81cBb82E63c3',
    '0x1982d5A43bDcDf9C8F04a04Cf3665Fb03596Da80',
    '0x01222Cf4095CC2E0772Cb77585fA31869D9a5f30',
    '0x25D0D9CFbce47C341bD06Fe8B4C8b81C9b88E3ad',
    '0x924Eb3bD723432C4aA6421bf36Cd34048f132C7B',
    '0xe1175e222ac3e21cbf5B48cfCA42b3B7D9a5064D',
    '0x88456D240854c64a09C8385726338C81A97e449c',
    '0xCfA3343CF443921876BAD0451a57f98BbC627a1b',
    '0xEEfca716307f3472D3d3eAeb1bDeCe025188e593',
    '0xFF816AFD4A37c3711DA7C0958753117CD9DBe434',
    '0xE8E89066Cc08a8d0fc8f3350e0D432ECb958b2AB',
    '0x428e3d25f3Ac90B66265420e14cA0982928E504c',
    '0xDD7Bf343EE5360e0b8A6c6B5667e65b75B097618',
    '0x1E18677d4c9391eCBbBf63A0Dc56f1B10F099f7f',
    '0xc3241AFA761db496E1A6935DD616417Ff607ECD0',
    '0xa7b896ea4a83Fb395E1bDFc9df195eB99A745cd5',
    '0x161bf804F9E50eE203024335Ce927dCB411aE946',
    '0xC74519C0A41c75ef184E75C1E7fcc67b7aB7FE13',
    '0x6667cbFaF2960D62A8Af2b4896674a008e351d9F',
    '0x328A3f8bAE2fB255a86BcDEFE9710D045F1A7603',
    '0x4C7DCd4599AADc000Dae3c4524a31f7a04E29525',
    '0xB29127cFD68a4FaE24E07e511Bd91caC6cd2a2E7',
    '0x5B6eE5C13AE53397466e78da6166c5e8758Dfa21',
    '0x9f09646601C2f07A1C0D8f041F7DDbF466F626e8',
    '0xf027828a6D9A0618A2f419AB71Db39cf2295f027',
    '0x17568F49De3dbEBc339EE4ca906097Ee97841077',
    '0xdB75d14117e7802E0596baF2C92b90c0F0Ab1aa5',
    '0x96ef1d80EacaC8358CEbCDA55C7ACb891DbA8f0b',
    '0xE0D9143a72c9d8767a269C72c7449F7ac20E111C',
    '0x4309AD281A7410Ff83D817015869d9F61d138e27',
    '0x3E0bb922475Cc5c9699f28f0542F52B75041a423',
    '0x76BE14141E883F96D7F09bbA2F1833297C28f914',
    '0x61D7f4Dd8b5D8E9416fE8Fd81224171cAA32112b',
    '0x0BF683C0470954CbC7fAEB787310AFD8cB7a1B3B',
    '0x2a08785A718E552242A9Ab8BFda1fC28BBe8cdcA',
    '0x1aF4c2950C5c892D1F4aacd60E8f656A14555E5A',
    '0xc7468B7D4086D15bf13D025A663E46E38d945446',
    '0xC54c5456F83eFf474B9D25f6Bd22c897551964F8',
    '0x399E671BbE5deD1cd3f1a2065DA445DC40B1d077',
    '0xEFd6E29eD1b602B4d0410bF008Bd667562DF1013',
    '0x6a696D664ADc372E9C1CB1065b4eF378b98C42e6',
    '0x3a59842fBf20b54D84c3505fc206f5cF7b56f4d9',
    '0x44ABaa7FeD7684F5872939e2741EAbb727112010',
    '0xE329E8e95B3Ed74cA80C0660644eF095F796B63a',
    '0xDCE95A016f359383A617A9c20913ab803bf6bB3c',
    '0xEB9b9acDF515D141e818aB8234329e92775c8603',
    '0xe7322ece7B3B1bf17d6362f44D706D4605E692aF',
    '0x24E1805401c9733dcc6C79483EA19ef39f60942A',
    '0x4495becDc0641264BE8C98F5b56e922d2b906e98',
    '0x40f0D8104ae5C9b9D7185Dbf1d65c2d40CA1565f',
    '0x2309a6CCC10694F9811BB97e290Bb5B6675333Ce',
    '0xdC48a6e97d4ffB2145D79f8CAF76EB4833C1d51F',
    '0x7E178629c84E016Fb569050e22c30b1c597CB042',
    '0xc59AFf88E04BdCa3A6231b382EabC806C1107714',
    '0x019Aa3358AD5a788CcB6393d3Bd9fbc990414054',
    '0x2c3f4DDf51B743741460cf567c80Aef1Eb0B7C4f',
    '0xFC7B5b1B3ad17a4cbC2E174985d5167216863bFB',
    '0x2C077C051fdBaDc8388427E3aD30059E050b5f8f',
    '0x872e473B0cFE45FB450888D18A28e7a61e1b142A'
  ];

  const stageDetails = [
    0,
    5, // max OG
    1697169600,
    1697255940,
    await ethers.BigNumber.from("30000000000000000"),
    5, // max WL
    1697256000,
    1697342340,
    await ethers.BigNumber.from("45000000000000000"),
    20, // Max reg
    1697342400,
    1697947200
  ];

  const data = await encoder.encode(["uint256", "uint256", "string", "string", "string"],
    [maxSupply, royaltyFee, name, tokenSymbol, uri]);

  // SEND Tx CREATE COLLECTION
  const tx = await Factory.createCollection(data, og, wl, stageDetails);
  await tx.wait().then(function (receipt: any) {
    console.log(receipt);
  }).catch((e: any) => {
    console.log("ERROR", e);
  });
}

main().catch((error) => {
  console.error(error);
  process.exitCode = 1;
});
